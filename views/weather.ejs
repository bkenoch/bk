<!DOCTYPE html>
<html>

<head>
    <title>
        <%=title%>
    </title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.4.4/vue.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.3.1/firebase.js"></script>


</head>

<body>
    <div class="jumbotron">
        <div class="container">
            <h1>
                <%=title%>
            </h1>
            <p>hello
                <%=title%>
            </p>
            <div id="app">
                <ul>

                </ul>
            </div>
        </div>
    </div>
    <footer>
        <div class="row">
            <div class="col-lg-12 center">
                <p></p>
            </div>
        </div>
    </footer>

</body>

<script>
    //alert('1111111')
    //var firebase = require('firebase');
    // 初始化 Firebase
    var config = {
        apiKey: "AIzaSyAg0tGWsKqtjZcRnFPrBroVn8r111Q4EKY",
        authDomain: "bkappdb.firebaseapp.com",
        databaseURL: "https://bkappdb.firebaseio.com",
        storageBucket: "bkappdb.appspot.com",
    };
    firebase.initializeApp(config);
    // 建立 DB
    var db = firebase.database()

    var weathers_ref = db.ref('/weathers/tw-20170913/Changhua_County');

    //var weathers_ref = new Firebase('https://bkappdb.firebaseio.com/');

    //console.log(weathers_ref)

    let data = null
    weathers_ref.on('value', function(snapshot) {
        console.log(snapshot.val())

        data = snapshot.val()
    })

    // // create Vue app
    // var app = new Vue({
    //     // element to mount to
    //     el: '#app',
    //     // initial data
    //     data: {
    //         // newUser: {
    //         //     name: '',
    //         //     email: ''
    //         // }
    //     },
    //     // firebase binding
    //     // https://github.com/vuejs/vuefire
    //     firebase: {
    //         weathers: weathers_ref
    //     },
    //     // computed property for form validation state
    //     computed: {
    //         validation: function() {
    //             return {
    //                 //name: !!this.newUser.name.trim(),
    //                 //email: emailRE.test(this.newUser.email)
    //             }
    //         },
    //         // isValid: function() {
    //         //     var validation = this.validation
    //         //     return Object.keys(validation).every(function(key) {
    //         //         return validation[key]
    //         //     })
    //         // }
    //     },
    //     // methods
    //     methods: {
    //         // addUser: function() {
    //         //     // if (this.isValid) {
    //         //     //     usersRef.push(this.newUser)
    //         //     //     this.newUser.name = ''
    //         //     //     this.newUser.email = ''
    //         //     // }
    //         // },
    //         // removeUser: function(user) {
    //         //     //usersRef.child(user['.key']).remove()
    //         // }
    //     }
    // })

    //console.log(weathers_ref)

    // create Vue app
    var app = new Vue({
        // element to mount to
        el: '#app',
        // initial data
        data: {
            // newUser: {
            //     name: '',
            //     email: ''
            // }
        },
        // firebase binding
        // https://github.com/vuejs/vuefire
        firebase: {

            weathers: function() {

                weathers_ref.on('value', function(snapshot) {
                    return snapshot.val()
                })

            }
        },
        // computed property for form validation state
        computed: {
            validation: function() {
                return {
                    //name: !!this.newUser.name.trim(),
                    //email: emailRE.test(this.newUser.email)
                }
            },
            // isValid: function() {
            //     var validation = this.validation
            //     return Object.keys(validation).every(function(key) {
            //         return validation[key]
            //     })
            // }
        },
        // methods
        methods: {
            // addUser: function() {
            //     // if (this.isValid) {
            //     //     usersRef.push(this.newUser)
            //     //     this.newUser.name = ''
            //     //     this.newUser.email = ''
            //     // }
            // },
            // removeUser: function(user) {
            //     //usersRef.child(user['.key']).remove()
            // }
        }
    })
</script>

</html>